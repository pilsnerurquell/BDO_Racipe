<!DOCTYPE html>
<html lang="ja">
  <head>
    <title>recipe</title>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="css/recipe.css?20190109" media="all">
    <!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="json/cooking.json?20171124"></script>
    <script src="json/alchemy.json?20171124"></script>
    
    
  </head>
  
  <body>
 
      
      <div id="main">
        <div id="info1">
            <ul id="seisan">
               <li class="selected" style="cursor: default;">Cooking</li>
               <li style="cursor: default;">Alchemy</li>
            </ul>
      
        <form id="erabu">
          <div id="control">
             <label id="cont3"><span>皇室納品</span><br>
                 <select id="rank" size= "7">
                   <option value="見習い">見習い</option>
                   <option value="熟練">熟練</option>
                   <option value="専門">専門家</option>
                   <option value="職人">職人</option>
                   <option value="名匠">名匠</option>
                   <option value="道人">道人</option>
                   <option value="all">すべて</option>
                 </select>
             </label>
             <label id="cont1"><span>レシピ</span><br>
                 <select id="data" size="10"></select>
             </label>
             <p id="control2">
             
               <label id="cont2"><span>作成数</span><br>
                 <input type="number" id="sakusei" placeholder="数量を入力">
               </label><br><br>
               <label id="cont4"><span>梱包数</span><br>
                 <input type="number" id="konpou" readonly>
               </label>
             </p>
          </div>
        
          <div>
            <p class="hyouji">
               <input type="text" id="sozai1" readonly>
               <input type="text" id="bunryou1" value="0" readonly>
               <input type="number" id="kei1" readonly>
            </p>
            <p class="hyouji">
               <input type="text" id="sozai2" readonly>
               <input type="text" id="bunryou2" value="0" readonly>
               <input type="number" id="kei2" readonly>
            </p>
            <p class="hyouji">
               <input type="text" id="sozai3" readonly>
               <input type="text" id="bunryou3" value="0" readonly>
               <input type="number" id="kei3" readonly>
            </p>
            <p class="hyouji">
               <input type="text" id="sozai4" readonly>
               <input type="text" id="bunryou4" value="0" readonly>
               <input type="number" id="kei4" readonly>
            </p>
            <p class="hyouji">
               <input type="text" id="sozai5" readonly>
               <input type="text" id="bunryou5" value="0" readonly>
               <input type="number" id="kei5" readonly>
            </p>
            <p class="hyouji">
               <textarea id="kouka" wrap="hard" readonly></textarea>
            </p>
          </div>
        </form>
      </div>
      
      <div id="info2">
        <div id="cook">
          <div id="ch1">
            <h2>TIPS</h2>
              <dl>
                <dt>開始時期</dt>
                <dd>採集レベル5以上が必要</dd>
                <dt>結果物</dt>
                <dd>レベル上昇に伴い結果物の個数が増える確率が上昇する<br>稀に上位品が獲得できる<br>上位品は効果時間・使用効果が上昇する</dd>
                <dt>素材分量</dt>
                <dd>互換性のある素材は枠に空きがあるときに限り合算使用ができる<br>素材が必要数より少ない場合は成功率が減少する<br>特級＝ノーマル約7個分<br>高級＝ノーマル約4個分<br>魚類・海産物(生)＝乾燥2個</dd>
              </dl>
          </div>
          <div id="ch2">
            <h2>互換素材</h2>
              <dl>
                <dt>穀物類</dt>
                <dd>ジャガイモ・大麦・小麦・トウモロコシ・サツマイモ</dd>
                <dt>野菜類</dt>
                <dd>カボチャ・キャベツ・トマト・パプリカ・オリーブ</dd>
                <dt>魚類</dt>
                <dd>川魚・海魚全般</dd>
                <dt>海産物</dt>
                <dd>貝・イカ・カニ・クラゲ・コウイカ・タコ・タツノオトシゴ・ヒトデ・スッポン</dd>
                <dt>一般肉類</dt>
                <dd>羊肉・豚肉・牛肉・イタチ肉・オオカミ肉・キツネ肉・クマ肉・サイの肉・シカ肉・タヌキ肉・ヤギ肉</dd>
                <dt>鳥肉</dt>
                <dd>鶏肉・フラミンゴ肉・クークー鳥肉</dd>
                <dt>爬虫類肉</dt>
                <dd>リザード肉・ワラゴンの肉・チータードラゴン肉・ワーム肉</dd>
                <dt>ワニ肉</dt>
                <dd>ワニの肉・ぶよぶよしたクジラの肉</dd>
                <dt>マーモット肉</dt>
                <dd>マーモット肉・ヤクの肉</dd>
                <dt>フルーツ類</dt>
                <dd>リンゴ・ブドウ・イチゴ・サクランボ・ナシ・バナナ・パイナップル</dd>
                <dt>花類</dt>
                <dd>チューリップ・ヒマワリ・バラ</dd>
              </dl>
          </div>
          <div id="ch3">
            <h2>加工素材</h2>
              <dl>
                <dt>穀物粉類</dt>
                <dd>穀物類を粉砕</dd>
                <dt>穀物生地類</dt>
                <dd>穀物粉類と料理用ミネラルウォーターを混合</dd>
                <dt>クリーム</dt>
                <dd>牛乳と砂糖を混合</dd>
                <dt>バター</dt>
                <dd>クリームと塩を混合</dd>
                <dt>チーズ</dt>
                <dd>牛乳を乾燥</dd>
                <dt>食用蜂蜜</dt>
                <dd>野生のハチの巣を粉砕</dd>
                <dt>塩</dt>
                <dd>海の水で満たしたビンを加熱</dd>
                <dt>みじん切りにした鳥肉</dt>
                <dd>鳥肉・鶏肉を粉砕</dd>
              </dl>
          </div>
        </div>
        <div id="alc">
          <div id="ch1_2">
            <h2>TIPS</h2>
              <dl>
                <dt>結果物</dt>
                <dd>・レベル上昇に伴い結果物の個数が増える確率が上昇する<br>・必要な錬金レベルが各レシピ毎に設定されている<br>　レベルが足りない場合は必ず失敗する</dd>
                <dt>素材分量</dt>
                <dd>・レベル上昇に伴い補助材料の個数が少ない場合での成功率が上昇する<br>・互換性のある素材は枠に空きがあるときに限り合算使用ができる</dd>
                <dt>上位品</dt>
                <dd>・緑枠のエリクサー3個と青い液体試薬1個で簡易錬金時、青枠のエリクサーが錬成される<br>　上位品は効果時間・使用効果が上昇する<br>・青枠のエリクサー2個とアールの涙1個で簡易錬金時、PT用エリクサーが錬成される</dd>
                <dt>水晶錬金</dt>
                <dd>・一般等級水晶＝緑枠水晶<br>　2つ必要な場合は別種類、各1個ずつ必要</dd>
              </dl>
          </div>
          <div id="ch2_2">
            <h2>互換素材</h2>
              <dl>
                <dt>草</dt>
                <dd>野生野草＝雑草4～5　試薬のみ1<br>野生薬草の束or山各種＝ノーマル3個分<br>高級薬草＝ノーマル3個分<br>特級薬草＝ノーマル7個分</dd>
                <dt>血</dt>
                <dd>[クマの血＝トロルの血＝オーガの血＝ライオンの血2＝ヤクの血]<br>[キツネの血＝イタチの血＝タヌキの血]<br>[オオカミの血＝フラミンゴの血＝チータードラゴンの血＝際の血]<br>[鹿の血＝豚の血＝羊の血＝牛の血＝ワラゴンの血＝ラマの血＝ヤギの血]<br>[リザードの血＝ワームの血＝コウモリの血＝クークー鳥の血]</dd>
                <dt>その他</dt>
                <dd>精製水＝蒸留水<br>HPポーション(中)＝HPポーション(小)<br>MPポーション(中)＝MPポーション(小)<br>HPポーション(大)＝HPポーション(小)3<br>MPポーション(大)＝MPポーション(小)3<br>溶けた鉄の欠片＝鉄鉱石9～10<br>大きなキノコ各種＝ノーマル3<br>高級＝ノーマル2<br>特級＝ノーマル4<br>リンゴ＝フルーツ類</dd>
              </dl>
          </div>
          <div id="ch3_2">
            <h2>○○の実入手方法</h2>
              家庭菜園の品種改良時(等級の高い種では入手確率が上がる)
              または植物採取時に低確率で入手可能
              <dl>
                <dt>自然の実</dt>
                <dd>大麦・サツマイモ・ジャガイモ・ニンジン・クロブドウタケ・パイタケ・ソンアリタケ・アカヤマドリ・アカシア</dd>
                <dt>太陽の実</dt>
                <dd>小麦・トウモロコシ・トマト・パプリカ</dd>
                <dt>豊穣の実</dt>
                <dd>タマネギ・イチゴ・ブドウ・ヒマワリ・</dd>
                <dt>紅炎の実</dt>
                <dd>カボチャ・オリーブ・コショウ・ニンニク・トウガラシ</dd>
                <dt>魔力の実</dt>
                <dd>バンプキノコ・フォーチュンテラーキノコ・エンペラーキノコ・タイガーキノコ</dd>
                <dt>魅惑の実</dt>
                <dd>銀色ツツジ・黎明草・火炎鱗の花・シルクハニー草・乾燥タテガミ草・亜麻</dd>
                <dt>破壊の実</dt>
                <dd>エンシェントキノコ・ドワーフキノコ・ゴーストキノコ・ヒュージキノコ・スカイキノコ</dd>
                <dt>無欠の実</dt>
                <dd>アローキノコ・クラウドキノコ・ミストキノコ・ブラガードキノコ</dd>
              </dl>
          </div>
        </div>
      </div>
    </div>
    
    <script>
         
         //セレクトボックスの生成
         $(function(){
           $(document).ready(function(){
             for(var i in cookingRecipe){
                 $("#data").append("<option value=" +cookingRecipe[i].id+ ">" +cookingRecipe[i].レシピ+ "</option>");  
             }
                 $("#cook").show();
                 $("#alc").hide();
                 $("#data").change(function(){
                 $(".hyouji input,#kouka,#sakusei,#konpou").val('');
                 $("#sozai1").val(cookingRecipe[$(this).val()].素材1);
                 $("#sozai2").val(cookingRecipe[$(this).val()].素材2);
                 $("#sozai3").val(cookingRecipe[$(this).val()].素材3);
                 $("#sozai4").val(cookingRecipe[$(this).val()].素材4);
                 $("#sozai5").val(cookingRecipe[$(this).val()].素材5);
                 
                 $("#bunryou1").val(cookingRecipe[$(this).val()].分量1);
                 $("#bunryou2").val(cookingRecipe[$(this).val()].分量2);
                 $("#bunryou3").val(cookingRecipe[$(this).val()].分量3);
                 $("#bunryou4").val(cookingRecipe[$(this).val()].分量4);
                 $("#bunryou5").val(cookingRecipe[$(this).val()].分量5);
                 
                 $("#kouka").val(cookingRecipe[$(this).val()].効果);
                 
                 $("#konpou").val(cookingRecipe[$(this).val()].包数);
                 });
           });
           $("#rank").change(function(){
                  $("#data").empty();
                  $(".hyouji input,#kouka,#sakusei").val('');
                  var rankVal = $(this).val();
                  var rankFilter = cookingRecipe.filter(function(item,index){
                    if(item.納品種別 == rankVal) return true;
                  });
                  for(var i in rankFilter){
                      $("#data").append("<option value=" +rankFilter[i].id+ ">" +rankFilter[i].レシピ+ "</option>");  
                  }
                  if (rankVal == "all"){
                    for(var i in cookingRecipe){
                       $("#data").append("<option value=" +cookingRecipe[i].id+ ">" +cookingRecipe[i].レシピ+ "</option>");
                    }
                  }
           });
                 
           
           $("#seisan li").on('click',function(e){
             $("#data").empty();
             $(".hyouji input,#kouka,#sakusei").val('');
             e.preventDefault();
             $("#seisan li").removeClass("selected");
             $(this).addClass("selected");
             var seisan = $("#seisan li").index(this);
             if (seisan == 0){
               $("#cook").show();
               $("#alc").hide();
               for(var i in cookingRecipe){
                 $("#data").append("<option value=" +cookingRecipe[i].id+ ">" +cookingRecipe[i].レシピ+ "</option>");
                 //セレクトボックス切り替えで素材と分量の表示
                 
                 $("#data").change(function(){
                 $(".hyouji input,#kouka,#sakusei,#konpou").val('');
                 $("#sozai1").val(cookingRecipe[$(this).val()].素材1);
                 $("#sozai2").val(cookingRecipe[$(this).val()].素材2);
                 $("#sozai3").val(cookingRecipe[$(this).val()].素材3);
                 $("#sozai4").val(cookingRecipe[$(this).val()].素材4);
                 $("#sozai5").val(cookingRecipe[$(this).val()].素材5);
                 
                 $("#bunryou1").val(cookingRecipe[$(this).val()].分量1);
                 $("#bunryou2").val(cookingRecipe[$(this).val()].分量2);
                 $("#bunryou3").val(cookingRecipe[$(this).val()].分量3);
                 $("#bunryou4").val(cookingRecipe[$(this).val()].分量4);
                 $("#bunryou5").val(cookingRecipe[$(this).val()].分量5);
                 
                 $("#kouka").val(cookingRecipe[$(this).val()].効果);
                 
                 $("#konpou").val(cookingRecipe[$(this).val()].包数);
                 });
               }
                 $("#rank").change(function(){
                        $("#data").empty();
                        $(".hyouji input,#kouka,#sakusei").val('');
                        var rankVal = $(this).val();
                        var rankFilter = cookingRecipe.filter(function(item,index){
                          if(item.納品種別 == rankVal) return true;
                        });
                        for(var i in rankFilter){
                            $("#data").append("<option value=" +rankFilter[i].id+ ">" +rankFilter[i].レシピ+ "</option>");  
                        }
                  if (rankVal == "all"){
                    for(var i in cookingRecipe){
                       $("#data").append("<option value=" +cookingRecipe[i].id+ ">" +cookingRecipe[i].レシピ+ "</option>");
                    }
                  }
                 });
             }
             else{
               $("#alc").show();
               $("#cook").hide();
               for(var i in alchemyRecipe){
                 $("#data").append("<option value=" +alchemyRecipe[i].id+ ">" +alchemyRecipe[i].レシピ+ "</option>");
                 //セレクトボックス切り替えで素材と分量の表示
                 $("#data").change(function(){
                   $(".hyouji input,#kouka,#sakusei,#konpou").val('');
                   $("#sozai1").val(alchemyRecipe[$(this).val()].素材1);
                   $("#sozai2").val(alchemyRecipe[$(this).val()].素材2);
                   $("#sozai3").val(alchemyRecipe[$(this).val()].素材3);
                   $("#sozai4").val(alchemyRecipe[$(this).val()].素材4);
                   $("#sozai5").val(alchemyRecipe[$(this).val()].素材5);
                   
                   $("#bunryou1").val(alchemyRecipe[$(this).val()].分量1);
                   $("#bunryou2").val(alchemyRecipe[$(this).val()].分量2);
                   $("#bunryou3").val(alchemyRecipe[$(this).val()].分量3);
                   $("#bunryou4").val(alchemyRecipe[$(this).val()].分量4);
                   $("#bunryou5").val(alchemyRecipe[$(this).val()].分量5);
                   
                   $("#kouka").val(alchemyRecipe[$(this).val()].効果);
                   
                   $("#konpou").val(alchemyRecipe[$(this).val()].包数);
                 });
               }
                 $("#rank").change(function(){
                        $("#data").empty();
                        $(".hyouji input,#kouka,#sakusei").val('');
                        var rankVal = $(this).val();
                        var rankFilter = alchemyRecipe.filter(function(item,index){
                          if(item.納品種別 == rankVal) return true;
                        });
                        for(var i in rankFilter){
                            $("#data").append("<option value=" +rankFilter[i].id+ ">" +rankFilter[i].レシピ+ "</option>");  
                        }
                  if (rankVal == "all"){
                    for(var i in alchemyRecipe){
                       $("#data").append("<option value=" +alchemyRecipe[i].id+ ">" +alchemyRecipe[i].レシピ+ "</option>");
                    }
                  }
                 });
             }
         
           });
            
             $("#sakusei").change(function(){
               var saku = "";
               saku = $(this).val();
               b1 = $("#bunryou1").val();
               b2 = $("#bunryou2").val();
               b3 = $("#bunryou3").val();
               b4 = $("#bunryou4").val();
               b5 = $("#bunryou5").val();
               $("#kei1").val(saku*b1);
               $("#kei2").val(saku*b2);
               $("#kei3").val(saku*b3);
               $("#kei4").val(saku*b4);
               $("#kei5").val(saku*b5);
             }).change();
         });



    </script>
  </body>
</html>